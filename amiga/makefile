# Makefile for project "pixman"
# Automatically generated by idltool
# 
# $Id: genskeleton.cpp,v 1.13 2010-03-17 14:37:07 cmincea Exp $
# 

# Uncomment the next line if you are cross compiling
CROSS_COMPILE = ppc-amigaos-
CC     = $(CROSS_COMPILE)gcc
STRIP  = $(CROSS_COMPILE)strip
CXX    = $(CROSS_COMPILE)c++ 
AS     = $(CROSS_COMPILE)as 
LD     = $(CROSS_COMPILE)ld 
RANLIB = $(CROSS_COMPILE)ranlib 
RM     = rm

# Change these as required
OPTIMIZE = -O0
DEBUG    = #-gstabs -DDEBUG
CFLAGS   = -I. -Iinclude -I../pixman/ -Wall \
     -DPIXMAN_NO_TLS -DPACKAGE=pixman.library -DPACKAGE_VERSION="" -DPACKAGE_BUGREPORT=""\
     $(OPTIMIZE) $(DEBUG)

# Flags passed to gcc during linking
LINK = -G 0 -gstabs -L../pixman

# Name of the "thing" to build
TARGET = pixman.library

# Additional linker libraries
LIBS = -lpixman

# Version of the library to build
VERSION = 53

# -------------------------------------------------------------
# Nothing should need changing below this line

SRCS = init.c stubs.c

OBJS = $(SRCS:.c=.o)
# Rules for building
$(TARGET): $(OBJS)
	$(CC) $(LINK) -nostartfiles -o $@.debug $(OBJS) $(LIBS) -Wl,-L.,--cref,-M,-Map=$@.debug.map
	$(STRIP) -R.comment $@.debug -o $@

.PHONY: clean
clean:
	$(RM) $(TARGET) $(OBJS)

.PHONY: revision
revision:
	bumprev $(VERSION) $(TARGET)

